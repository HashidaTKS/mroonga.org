---
layout: post.ja
title: Mroonga 5.03リリース！
description: Mroonga 5.03をリリースしました！
---

## Mroonga 5.03リリース！

今日は肉の日ですね！

[Mroonga 5.03](/ja/docs/news.html#release-5-03) をリリースしました！

* インストール方法: [インストール](/ja/docs/install.html)
* アップグレード方法: [アップグレードガイド](/ja/docs/upgrade.html)

今回のリリースのハイライトは以下です。

* 全文検索結果のソート処理で `FT_SORTED` フラグをサポート

他にも、ストレージモードに関する不具合修正などがあるので、アップグレードをおすすめします。

### 全文検索結果のソート処理で `FT_SORTED` フラグをサポート

全文検索結果をストレージエンジンからMySQLに返すときに、ソート済みであることを示す `FT_SORTED` に対応していると、MySQL側ではストレージエンジン側でソートされているので、MySQL側で余計なソートをせずにそのまま返せるという仕組みがあります。

Mroongaはこれまでその仕組みに実は対応していませんでした。
今回のリリースでは、 `FT_SORTED` フラグがついている場合には、Mroonga側で適合順にソートしてからMySQLに結果を返すようにしました。
これにより、よりストレージエンジンとして正しい振舞いをするようになりました。

ただし、これにより `MATCH AGAINST` で特に `ORDER BY` 等を指定していないケースではもしかすると全文検索結果が従来と異なることがあるかも知れません。

もし、ソート順に関して期待と異なる結果が返ってくることがあれば、フィードバックをもらえると問題の解決につなげられるので嬉しいです。

### おわりに

5.02からの詳細な変更点は [5.03リリース - 2015-05-29](/ja/docs/news.html#release-5-03) を確認してください。

それでは、Mroongaでガンガン検索してください！
